parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function Sa(a){return a&&a.__esModule?{d:a.default}:{d:a}}let oa,Ea,Ta={};function Fa(t,...e){(Ta[t]||[]).map(t=>t(...e))}function Ga(){return oa}function ea(){return Ea}function Ua(t){if(!(oa=document.getElementById(t)||t||document.querySelector("canvas")))throw Error("You must provide a canvas element for the game");return(Ea=oa.getContext("2d")).imageSmoothingEnabled=!1,Fa("init"),{canvas:oa,context:Ea}}class Va{constructor({spriteSheet:t,frames:e,frameRate:r,loop:i=!0}){this.spriteSheet=t,this.frames=e,this.frameRate=r,this.loop=i;let{width:$,height:o,margin:s=0}=t.frame;this.width=$,this.height=o,this.margin=s,this._f=0,this._a=0}clone(){return new Va(this)}reset(){this._f=0,this._a=0}update(t=1/60){if(this.loop||this._f!=this.frames.length-1)for(this._a+=t;this._a*this.frameRate>=1;)this._f=++this._f%this.frames.length,this._a-=1/this.frameRate}render({x:t,y:e,width:r=this.width,height:i=this.height,context:$=ea()}){let o=this.frames[this._f]/this.spriteSheet._f|0,s=this.frames[this._f]%this.spriteSheet._f|0;$.drawImage(this.spriteSheet.image,s*this.width+(2*s+1)*this.margin,o*this.height+(2*o+1)*this.margin,this.width,this.height,t,e,r,i)}}let a=new WeakMap;function Wa(t,e){let r=Math.sin(e),i=Math.cos(e);return{x:t.x*i-t.y*r,y:t.x*r+t.y*i}}function Ha(t,e,r){return Math.min(Math.max(t,r),e)}function Xa(t,e){return t.rotation||e.rotation?null:([t,e]=[t,e].map(t=>Ia(t)),t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y)}function Ia(t){let{x:e,y:r,width:i,height:$}=t.world||t;return t.anchor&&(e-=i*t.anchor.x,r-=$*t.anchor.y),i<0&&(e+=i,i*=-1),$<0&&(r+=$,$*=-1),{x:e,y:r,width:i,height:$}}class X{constructor(t=0,e=0,r={}){this.x=t,this.y=e,r._c&&(this.clamp(r._a,r._b,r._d,r._e),this.x=t,this.y=e)}add(t){return new X(this.x+t.x,this.y+t.y,this)}subtract(t){return new X(this.x-t.x,this.y-t.y,this)}scale(t){return new X(this.x*t,this.y*t)}normalize(t=this.length()){return new X(this.x/t,this.y/t)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}distance(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.dot(t)/(this.length()*t.length()))}clamp(t,e,r,i){this._c=!0,this._a=t,this._b=e,this._d=r,this._e=i}get x(){return this._x}get y(){return this._y}set x(t){this._x=this._c?Ha(this._a,this._d,t):t}set y(t){this._y=this._c?Ha(this._b,this._e,t):t}}function ba(){return new X(...arguments)}ba.prototype=X.prototype,ba.class=X;class Ya{constructor(t){return this.init(t)}init(t={}){this.position=ba(),this.velocity=ba(),this.acceleration=ba(),this.ttl=1/0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let e=this.acceleration;t&&(e=e.scale(t)),this.velocity=this.velocity.add(e);let r=this.velocity;t&&(r=r.scale(t)),this.position=this.position.add(r),this._pc(),this.ttl--}get dx(){return this.velocity.x}get dy(){return this.velocity.y}set dx(t){this.velocity.x=t}set dy(t){this.velocity.y=t}get ddx(){return this.acceleration.x}get ddy(){return this.acceleration.y}set ddx(t){this.acceleration.x=t}set ddy(t){this.acceleration.y=t}isAlive(){return this.ttl>0}_pc(){}}const ca=()=>{},Ja="position:absolute;left:-9999px";function pa(t,e){let r=e.parentNode;if(t.setAttribute("data-kontra",""),r){let i=r.querySelector("[data-kontra]:last-of-type")||e;r.insertBefore(t,i.nextSibling)}else document.body.appendChild(t)}class qa extends Ya{init({width:t=0,height:e=0,context:r=ea(),render:i=this.draw,update:$=this.advance,children:o=[],anchor:s={x:0,y:0},sx:a=0,sy:n=0,opacity:h=1,rotation:w=0,scaleX:p=1,scaleY:l=1,...d}={}){this.children=[],super.init({width:t,height:e,context:r,anchor:s,sx:a,sy:n,opacity:h,rotation:w,scaleX:p,scaleY:l,...d}),this._di=!0,this._uw(),o.map(t=>this.addChild(t)),this._rf=i,this._uf=$}update(t){this._uf(t),this.children.map(t=>t.update&&t.update())}render(t){let e=this.context;e.save(),(this.x||this.y)&&e.translate(this.x,this.y),this.rotation&&e.rotate(this.rotation),(this.sx||this.sy)&&e.translate(-this.sx,-this.sy),1==this.scaleX&&1==this.scaleY||e.scale(this.scaleX,this.scaleY);let r=-this.width*this.anchor.x,i=-this.height*this.anchor.y;(r||i)&&e.translate(r,i),this.context.globalAlpha=this.opacity,this._rf(),(r||i)&&e.translate(-r,-i);let $=this.children;t&&($=$.filter(t)),$.map(t=>t.render&&t.render()),e.restore()}draw(){}_pc(t,e){this._uw(),this.children.map(t=>t._pc())}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this._pc()}set y(t){this.position.y=t,this._pc()}get width(){return this._w}set width(t){this._w=t,this._pc()}get height(){return this._h}set height(t){this._h=t,this._pc()}_uw(){if(!this._di)return;let{_wx:t=0,_wy:e=0,_wo:r=1,_wr:i=0,_wsx:$=1,_wsy:o=1}=this.parent||{};this._wx=this.x,this._wy=this.y,this._ww=this.width,this._wh=this.height,this._wo=r*this.opacity,this._wr=i+this.rotation;let{x:s,y:a}=Wa({x:this.x,y:this.y},i);this._wx=s,this._wy=a,this._wsx=$*this.scaleX,this._wsy=o*this.scaleY,this._wx=this.x*$,this._wy=this.y*o,this._ww=this.width*this._wsx,this._wh=this.height*this._wsy,this._wx+=t,this._wy+=e}get world(){return{x:this._wx,y:this._wy,width:this._ww,height:this._wh,opacity:this._wo,rotation:this._wr,scaleX:this._wsx,scaleY:this._wsy}}addChild(t,{absolute:e=!1}={}){this.children.push(t),t.parent=this,t._pc=t._pc||ca,t._pc()}removeChild(t){let e=this.children.indexOf(t);-1!==e&&(this.children.splice(e,1),t.parent=null,t._pc())}get opacity(){return this._opa}set opacity(t){this._opa=t,this._pc()}get rotation(){return this._rot}set rotation(t){this._rot=t,this._pc()}setScale(t,e=t){this.scaleX=t,this.scaleY=e}get scaleX(){return this._scx}set scaleX(t){this._scx=t,this._pc()}get scaleY(){return this._scy}set scaleY(t){this._scy=t,this._pc()}}function _(){return new qa(...arguments)}_.prototype=qa.prototype,_.class=qa;class ra extends _.class{init({image:t,width:e=t?t.width:void 0,height:r=t?t.height:void 0,...i}={}){super.init({image:t,width:e,height:r,...i})}get animations(){return this._a}set animations(t){let e,r;for(e in this._a={},t)this._a[e]=t[e].clone(),r=r||this._a[e];this.currentAnimation=r,this.width=this.width||r.width,this.height=this.height||r.height}playAnimation(t){this.currentAnimation=this.animations[t],this.currentAnimation.loop||this.currentAnimation.reset()}advance(t){super.advance(t),this.currentAnimation&&this.currentAnimation.update(t)}draw(){this.image&&this.context.drawImage(this.image,0,0,this.image.width,this.image.height),this.currentAnimation&&this.currentAnimation.render({x:0,y:0,width:this.width,height:this.height,context:this.context}),this.color&&(this.context.fillStyle=this.color,this.context.fillRect(0,0,this.width,this.height))}}function L(){return new ra(...arguments)}L.prototype=ra.prototype,L.class=ra;let Za=/(\d+)(\w+)/;function $a(t){let e=t.match(Za),r=+e[1];return{size:r,unit:e[2],computed:r}}class sa extends _.class{init({text:t="",textAlign:e="",lineHeight:r=1,font:i=ea().font,...$}={}){super.init({text:t,textAlign:e,lineHeight:r,font:i,...$}),this._p()}get width(){return this._w}set width(t){this._d=!0,this._w=t,this._fw=t}get text(){return this._t}set text(t){this._d=!0,this._t=t}get font(){return this._f}set font(t){this._d=!0,this._f=t,this._fs=$a(t).computed}get lineHeight(){return this._lh}set lineHeight(t){this._d=!0,this._lh=t}render(){this._d&&this._p(),super.render()}_p(){this._s=[],this._d=!1;let t=this.context;if(t.font=this.font,!this._s.length&&this._fw){let e=this.text.split(" "),r=0,i=2;for(;i<=e.length;i++){let $=e.slice(r,i).join(" ");t.measureText($).width>this._fw&&(this._s.push(e.slice(r,i-1).join(" ")),r=i-1)}this._s.push(e.slice(r,i).join(" "))}if(!this._s.length&&this.text.includes("\n")){let e=0;this.text.split("\n").map(r=>{this._s.push(r),e=Math.max(e,t.measureText(r).width)}),this._w=this._fw||e}this._s.length||(this._s.push(this.text),this._w=this._fw||t.measureText(this.text).width),this.height=this._fs+(this._s.length-1)*this._fs*this.lineHeight,this._uw()}draw(){let t=0,e=this.textAlign,r=this.context;e=this.textAlign||("rtl"===r.canvas.dir?"right":"left"),t="right"===e?this.width:"center"===e?this.width/2|0:0,this._s.map((i,$)=>{r.textBaseline="top",r.textAlign=e,r.fillStyle=this.color,r.font=this.font,r.fillText(i,t,this._fs*this.lineHeight*$)})}}function fa(){return new sa(...arguments)}fa.prototype=sa.prototype,fa.class=sa;let _a=new WeakMap;function ab(...t){t.map(t=>{let e=t.context?t.context.canvas:Ga(),r=_a.get(e);if(!r)throw new ReferenceError("Pointer events not initialized for the objects canvas");t._r||(t._r=t.render,t.render=function(){r._cf.push(this),this._r()},r._o.push(t))})}class b extends L.class{init({padX:t=0,padY:e=0,text:r,onDown:i,onUp:$,...o}={}){super.init({padX:t,padY:e,...o}),this.textNode=fa({...r,context:this.context}),this.width||(this.width=this.textNode.width,this.height=this.textNode.height),ab(this),this.addChild(this.textNode),this._od=i||ca,this._ou=$||ca;const s=this._dn=document.createElement("button");s.style=Ja,s.textContent=this.text,s.addEventListener("focus",()=>this.focus()),s.addEventListener("blur",()=>this.blur()),s.addEventListener("keydown",t=>this._kd(t)),s.addEventListener("keyup",t=>this._ku(t)),pa(s,this.context.canvas),this._uw(),this._p()}get text(){return this.textNode.text}set text(t){this._d=!0,this.textNode.text=t}destroy(){this._dn.remove()}_p(){this.text!==this._dn.textContent&&(this._dn.textContent=this.text),this.textNode._p();let t=this.textNode.width+2*this.padX,e=this.textNode.height+2*this.padY;this.width=Math.max(t,this.width),this.height=Math.max(e,this.height),this._uw()}render(){this._d&&this._p(),super.render()}enable(){this.disabled=this._dn.disabled=!1,this.onEnable()}disable(){this.disabled=this._dn.disabled=!0,this.onDisable()}focus(){this.disabled||(this.focused=!0,document.activeElement!=this._dn&&this._dn.focus(),this.onFocus())}blur(){this.focused=!1,document.activeElement==this._dn&&this._dn.blur(),this.onBlur()}onOver(){this.disabled||(this.hovered=!0)}onOut(){this.hovered=!1}onEnable(){}onDisable(){}onFocus(){}onBlur(){}onDown(){this.disabled||(this.pressed=!0,this._od())}onUp(){this.disabled||(this.pressed=!1,this._ou())}_kd(t){"Enter"!=t.code&&"Space"!=t.code||this.onDown()}_ku(t){"Enter"!=t.code&&"Space"!=t.code||this.onUp()}}function bb(t){let e=t.canvas;t.clearRect(0,0,e.width,e.height)}function cb({fps:t=60,clearCanvas:e=!0,update:r=ca,render:i,context:$=ea()}={}){if(!i)throw Error("You must provide a render() function");let o,s,a,n,h,w=0,p=1e3/t,l=1/t,d=e?bb:ca;function c(){if(s=requestAnimationFrame(c),a=performance.now(),n=a-o,o=a,!(n>1e3)){for(Fa("tick"),w+=n;w>=p;)h.update(l),w-=p;d($),h.render()}}return h={update:r,render:i,isStopped:!0,start(){o=performance.now(),this.isStopped=!1,requestAnimationFrame(c)},stop(){this.isStopped=!0,cancelAnimationFrame(s)},_frame:c,set _last(t){o=t}}}let db={set:(t,e,r)=>(e.startsWith("_")||(t._d=!0),Reflect.set(t,e,r))},Ka={start:t=>t?1:0,center:()=>.5,end:t=>t?0:1};class c extends _.class{init({flow:t="column",align:e="start",justify:r="start",colGap:i=0,rowGap:$=0,numCols:o=1,dir:s="",breakpoints:a=[],...n}={}){return super.init({flow:t,align:e,justify:r,colGap:i,rowGap:$,numCols:o,dir:s,breakpoints:a,...n}),this._p(),new Proxy(this,db)}addChild(t){this._d=!0,super.addChild(t)}removeChild(t){this._d=!0,super.removeChild(t)}render(){this._d&&this._p(),super.render()}destroy(){this.children.map(t=>t.destroy&&t.destroy())}_p(){this._d=!1,this.breakpoints.map(t=>{t.metric.call(this)&&this._b!==t&&(this._b=t,t.callback.call(this))});let t=this._g=[],e=this._cw=[],r=this._rh=[],i=this.children,$=this._nc="column"===this.flow?1:"row"===this.flow?i.length:this.numCols,o=0,s=0;for(let d,c=0;d=i[c];c++){t[o]=t[o]||[],d._p&&d._p(),r[o]=Math.max(r[o]||0,d.height);let i=d.colSpan||1,a=i;do{e[s]=Math.max(e[s]||0,d.width/a),t[o][s]=d}while(a+s++<=$&&--i);s>=$&&(s=0,o++)}for(;s>0&&s<$;)t[o][s++]=!1;let a=t.length,n=[].concat(this.colGap),h=[].concat(this.rowGap);this._w=e.reduce((t,e)=>t+=e,0);for(let d=0;d<$-1;d++)this._w+=n[d%n.length];this._h=r.reduce((t,e)=>t+=e,0);for(let d=0;d<a-1;d++)this._h+=h[d%h.length];this._uw();let w="rtl"===this.context.canvas.dir&&!this.dir||"rtl"===this.dir;this._rtl=w,w&&(this._g=t.map(t=>t.reverse()),this._cw=e.reverse());let p=-this.anchor.y*this.height,l=[];this._g.map((t,i)=>{let $=-this.anchor.x*this.width;t.map((t,o)=>{if(t&&!l.includes(t)){l.push(t);let s=Ka[t.justifySelf||this.justify](this._rtl),a=Ka[t.alignSelf||this.align](),h=t.colSpan||1,w=e[o];if(h>1&&o+h<=this._nc)for(let t=1;t<h;t++)w+=e[o+t]+n[(o+t)%n.length];let d=w*s,c=r[i]*a,x=0,Y=0,{width:u,height:Z}=t;if(t.anchor&&(x=t.anchor.x,Y=t.anchor.y),0===s)d+=u*x;else if(.5===s){d+=(x<.5?-1:.5===x?0:1)*u*s}else d-=u*(1-x);if(0===a)c+=Z*Y;else if(.5===a){c+=(Y<.5?-1:.5===Y?0:1)*Z*a}else c-=Z*(1-Y);t.x=$+d,t.y=p+c}$+=e[o]+n[o%n.length]}),p+=r[i]+h[i%h.length]})}}let La={},ta={},aa={Enter:"enter",Escape:"esc",Space:"space",ArrowLeft:"left",ArrowUp:"up",ArrowRight:"right",ArrowDown:"down"};function eb(t){let e=aa[t.code];ta[e]=!0,La[e]&&La[e](t)}function fb(t){ta[aa[t.code]]=!1}function gb(){ta={}}function hb(){let t;for(t=0;t<26;t++)aa[t+65]=aa["Key"+String.fromCharCode(t+65)]=String.fromCharCode(t+97);for(t=0;t<10;t++)aa[48+t]=aa["Digit"+t]=""+t;window.addEventListener("keydown",eb),window.addEventListener("keyup",fb),window.addEventListener("blur",gb)}function G(t){return!!ta[t]}function Ma(t,e){let r=[],i=e.x+e.width/2,$=e.y+e.height/2,{x:o,y:s,width:a,height:n}=Ia(t),h=t.y<$,w=t.y+t.height>=$;return t.x<i&&(h&&r.push(0),w&&r.push(2)),t.x+t.width>=i&&(h&&r.push(1),w&&r.push(3)),r}class ib{constructor({maxDepth:t=3,maxObjects:e=25,bounds:r}={}){this.maxDepth=t,this.maxObjects=e;let i=Ga();this.bounds=r||{x:0,y:0,width:i.width,height:i.height},this._b=!1,this._d=0,this._o=[],this._s=[],this._p=null}clear(){this._s.map(function(t){t.clear()}),this._b=!1,this._o.length=0}get(t){let e=new Set;for(;this._s.length&&this._b;)return Ma(t,this.bounds).map(r=>{this._s[r].get(t).map(t=>e.add(t))}),Array.from(e);return this._o.filter(e=>e!==t)}add(...t){t.map(t=>{Array.isArray(t)?this.add.apply(this,t):this._b?this._a(t):(this._o.push(t),this._o.length>this.maxObjects&&this._d<this.maxDepth&&(this._sp(),this._o.map(t=>this._a(t)),this._o.length=0))})}_a(t){Ma(t,this.bounds).map(e=>{this._s[e].add(t)})}_sp(t,e,r){if(this._b=!0,!this._s.length)for(t=this.bounds.width/2|0,e=this.bounds.height/2|0,r=0;r<4;r++)this._s[r]=new ib({bounds:{x:this.bounds.x+(r%2==1?t:0),y:this.bounds.y+(r>=2?e:0),width:t,height:e},maxDepth:this.maxDepth,maxObjects:this.maxObjects}),this._s[r]._d=this._d+1,this._s[r]._p=this}}function ua(t){let e=[];return t._dn?e.push(t._dn):t.children&&t.children.map(t=>{e=e.concat(ua(t))}),e}class va extends _.class{init({id:t,name:e=t,cullObjects:r=!0,cullFunction:i=Xa,...$}){const o=this._dn=document.createElement("section");o.tabIndex=-1,o.style=Ja,o.id=t,o.setAttribute("aria-label",e),super.init({id:t,name:e,cullObjects:r,cullFunction:i,...$}),pa(o,this.context.canvas);let s=this.context.canvas;this.camera=_({x:s.width/2,y:s.height/2,width:s.width,height:s.height,anchor:{x:.5,y:.5}}),this.camera._pc=()=>{super._pc.call(this.camera);this.context.canvas;this.camera._wx=this.camera.x*this.scaleX,this.camera._wy=this.camera.y*this.scaleY}}show(){this.hidden=this._dn.hidden=!1;let t=this.children.find(t=>t.focus);t?t.focus():this._dn.focus(),this.onShow()}hide(){this.hidden=this._dn.hidden=!0,this.onHide()}addChild(t,e){super.addChild(t,e),ua(t).map(t=>{this._dn.appendChild(t)})}removeChild(t){super.removeChild(t),ua(t).map(t=>{pa(t,this.context.canvas)})}destroy(){this._dn.remove(),this.children.map(t=>t.destroy&&t.destroy())}update(t){this.hidden||super.update(t)}lookAt(t){let e=(t=t.world||t).x,r=t.y;t.scaleX&&(e/=t.scaleX,r/=t.scaleY),this.camera.x=e,this.camera.y=r,this._pc()}_pc(){super._pc(),this.camera&&this.camera._pc()}render(){let{x:t,y:e,width:r,height:i}=this.camera;this.sx=t*this.scaleX-r/2,this.sy=e*this.scaleY-i/2,this.hidden||super.render(t=>!this.cullObjects||this.cullFunction(t,this.camera))}onShow(){}onHide(){}}function wa(){return new va(...arguments)}wa.prototype=va.prototype,wa.class=va;var N=document.getElementById("game-canvas"),jb=function(){N.requestFullscreen?N.requestFullscreen().catch(function(){return console.log("A warning was hanlded when full screen was enabled")}):N.mozRequestFullScreen?N.mozRequestFullScreen():N.webkitRequestFullscreen?N.webkitRequestFullscreen():N.msRequestFullscreen&&N.msRequestFullscreen()};Ua(),hb();var Na=function(e){var r=wa({id:"scene"}),t=e.sceneProps;t&&(r.children=t);var n=cb({update:function(t){G("f")&&jb(),e.cameraLookTarget&&r.lookAt(e.cameraLookTarget),e.update(t,e.sceneProps),r.children=r.children.filter(function(e){return e.isAlive()})},render:function(){r.render(),e.messages.forEach(function(e){return e.render()})}});return{start:function(){return n.start()},stop:function(){return n.stop()},destroy:function(){return r.destroy()},hide:function(){return r.hide()}}};var O=function(e,t,r,$){var x=t.x,o=t.y;return void 0===$&&($="center"),fa({text:e,font:r+"px Courier New",color:"white",x:x,y:o,anchor:{x:.5,y:.5},textAlign:$})};var kb=function(e,t,r){var $=t.x,x=t.y;return void 0===r&&(r="center"),O(e,{x:$,y:x},24,r)};var lb=function(e,t,r){var $=t.x,x=t.y;return void 0===r&&(r="center"),O(e,{x:$,y:x},32,r)};var mb=function(e,t,r){var $=t.x,x=t.y;return void 0===r&&(r="center"),O(e,{x:$,y:x},64,r)};var ga=function(e,r,t,$,x){void 0===$&&($="");var o=mb(e,{x:400,y:200}),a=lb(r,{x:400,y:300}),i=kb(t,{x:400,y:400}),p=O($,{x:200,y:580},16);return Na({messages:[o,a,i,p],update:function(){x()}})};var Oa=function(){return ga("404 MISSION","An underwater adventure","Press [ENTER] to continue","Made by Rodrigo Reyes, 2020",function(){G("enter")&&F.getInstance().playGame()})};var nb,D;(function(t){t[t.GameMenu=0]="GameMenu",t[t.PlayingGame=1]="PlayingGame",t[t.GameOver=2]="GameOver",t[t.FinalizeGame=3]="FinalizeGame",t[t.MissionCompleted=4]="MissionCompleted",t[t.GameEnding=5]="GameEnding"})(D||(nb=D={},nb));var ob=function(){function t(){this.resetFSM()}return t.prototype.getCurrentState=function(){return this.currentState},t.prototype.resetFSM=function(){this.currentState=D.GameMenu},t.prototype.transitionToMissionCompleted=function(){this.currentState===D.PlayingGame&&(this.currentState=D.MissionCompleted)},t.prototype.transitionToPlayGame=function(){this.currentState!==D.GameMenu&&this.currentState!==D.MissionCompleted||(this.currentState=D.PlayingGame)},t.prototype.transitionToGameMenu=function(){this.currentState!==D.PlayingGame&&this.currentState!==D.GameOver&&this.currentState!==D.MissionCompleted&&this.currentState!==D.GameEnding||(this.currentState=D.GameMenu)},t.prototype.transitionToGameOver=function(){this.currentState===D.PlayingGame&&(this.currentState=D.GameOver)},t.prototype.transitionToGameEnding=function(){this.currentState===D.PlayingGame&&(this.currentState=D.GameEnding)},t}();var xa={};var U={roomDirections:[1,2,3,4],roomTileNumber:10,width:12,height:12,map:[[1,1,1,1,1,2,2,1,1,1,1,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[2,2,0,0,0,0,0,0,0,0,2,2],[2,2,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,1,1,1,1,2,2,1,1,1,1,1]]};var ha={roomDirections:[],roomTileNumber:11,width:12,height:12,map:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,1,1,1,1,2,2,1,1,1,1,1]]};var ia={roomDirections:[],roomTileNumber:12,width:12,height:12,map:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[2,2,0,0,0,0,0,0,0,0,0,1],[2,2,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]]};var ya={roomDirections:[2,4],roomTileNumber:13,width:12,height:12,map:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[2,2,0,0,0,0,0,0,0,0,2,2],[2,2,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]]},ja={roomDirections:[],roomTileNumber:14,width:12,height:12,map:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]]};var za={roomDirections:[2,3],roomTileNumber:15,width:12,height:12,map:[[1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,1,1,1,1,2,2,1,1,1,1,1]]},ka={roomDirections:[],roomTileNumber:16,width:12,height:12,map:[[1,1,1,1,1,2,2,1,1,1,1,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]]};var Aa={roomDirections:[1,3],roomTileNumber:17,width:12,height:12,map:[[1,1,1,1,1,2,2,1,1,1,1,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,1,1,1,1,2,2,1,1,1,1,1]]},Ba={roomDirections:[1,4],roomTileNumber:18,width:12,height:12,map:[[1,1,1,1,1,2,2,1,1,1,1,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[2,2,0,0,0,0,0,0,0,0,0,1],[2,2,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]]},Ca={roomDirections:[1,2],roomTileNumber:19,width:12,height:12,map:[[1,1,1,1,1,2,2,1,1,1,1,1],[1,0,0,0,0,2,2,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,2,2],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1]]},pb=function(){var o=new Map;return o.set(U.roomTileNumber,U),o.set(ha.roomTileNumber,ha),o.set(ia.roomTileNumber,ia),o.set(ya.roomTileNumber,ya),o.set(ja.roomTileNumber,ja),o.set(za.roomTileNumber,za),o.set(ka.roomTileNumber,ka),o.set(Aa.roomTileNumber,Aa),o.set(Ba.roomTileNumber,Ba),o.set(Ca.roomTileNumber,Ca),o},qb=pb();var J={entryRoom:U,bRoom:ha,lRoom:ia,lrRoom:ya,rRoom:ja,brRoom:za,tRoom:ka,tbRoom:Aa,ltRoom:Ba,trRoom:Ca};var rb=[J.bRoom,J.brRoom,J.tbRoom],sb=[J.ltRoom,J.tRoom,J.tbRoom,J.trRoom],tb=[J.lrRoom,J.lRoom,J.lrRoom,J.ltRoom],ub=[J.brRoom,J.lrRoom,J.rRoom,J.trRoom],V={bottomRooms:rb,topRooms:sb,leftRooms:tb,rightRooms:ub};var M=function(t,$){return Math.floor(Math.random()*($-t+1))+t};var vb=function(o){var $=0,e=null;switch(o){case 1:$=M(0,V.bottomRooms.length-1),e=V.bottomRooms[$];break;case 2:$=M(0,V.leftRooms.length-1),e=V.leftRooms[$];break;case 3:$=M(0,V.topRooms.length-1),e=V.topRooms[$];break;case 4:$=M(0,V.rightRooms.length-1),e=V.rightRooms[$];break;case 5:e=ha;break;case 6:e=ia;break;case 7:e=ka;break;case 8:e=ja;}return e},wb={spawn:vb};var B=5;var j=8;var K={x:5,y:5};var la=15;var ma=15;var xb=!0;var yb=10;var da=function(r,n,t){var $=t;return 0===n&&1===t?$=5:r===la-1&&2===t?$=6:n===ma-1&&3===t?$=7:0===r&&4===t&&($=8),{x:r,y:n,openingDirection:$}},zb=function(){var r=Array(ma).fill(0).map(function(){return Array(la).fill(0)}),n=function(n,t,$){var o=[da(n,t,$)],e=function(){var n=o.shift(),t=wb.spawn(n.openingDirection);r[n.y][n.x]=t.roomTileNumber,t.roomDirections.forEach(function(t){var $=null;switch(t){case 1:0===r[n.y-1][n.x]&&($=da(n.x,n.y-1,1));break;case 2:0===r[n.y][n.x+1]&&($=da(n.x+1,n.y,2));break;case 3:0===r[n.y+1][n.x]&&($=da(n.x,n.y+1,3));break;case 4:0===r[n.y][n.x-1]&&($=da(n.x-1,n.y,4));}$&&o.push($)})};do{e()}while(0!==o.length)};return r[K.y][K.x]=U.roomTileNumber,n(K.x,K.y-1,1),n(K.x+1,K.y,2),n(K.x,K.y+1,3),n(K.x-1,K.y,4),r},Ab={create:zb};var Da={};var Bb=function(e,$){return L({x:e*B,y:$*B,width:j*B,height:j*B,spriteSheet:F.getInstance().spriteSheet,render:function(){this.context.drawImage(this.spriteSheet,0,0,j,j,0,0,j*B,j*B)}})};var Cb=function(){return{playerTime:15,playerMovementSpeed:2,playerTimeRateConsumption:2,sonarTimeRate:2}};var Db=function(){return{isHyperEngineReady:!1,hyperEngineEnabled:!1,hyperEngineVelocity:4,hyperEngineRechargeTime:10,hyperEngineCharges:3,hyperEngineDurationTime:5}};var Eb=function(){return{maxTimersPerRoom:3,timerProbability:170,maxCardsPerLevel:10,cardProbability:200,maxMinesPerRoom:30,mineProbability:70,hyperEnginePerLevel:2,hyperEngineProbability:250}};var Fb=3;var Gb=function(e,t){return L({type:"timer",rechargeValue:Fb,x:e*B,y:t*B,radius:j*B/2,anchor:{x:0,y:0},render:function(){this.context.strokeStyle="white",this.context.beginPath(),this.context.arc(21,21,this.radius,0,2*Math.PI),this.context.stroke()}})};var Hb=function(t,$){return L({type:"card",x:t*B,y:$*B,width:j*B,height:j*B,radius:j*B/2,spriteSheet:F.getInstance().spriteSheet,render:function(){this.context.drawImage(this.spriteSheet,8,16,j,j,0,0,j*B,j*B)}})};var Ib=function(e,$){return L({type:"mine",x:e*B,y:$*B,width:j*B,height:j*B,radius:j*B/3,spriteSheet:F.getInstance().spriteSheet,render:function(){this.context.drawImage(this.spriteSheet,0,24,j,j,0,0,j*B,j*B)}})};var Jb=function(e,$,r){return L({type:"backgroundProp",x:e*B,y:$*B,width:j*B,height:j*B,spriteSheet:F.getInstance().spriteSheet,render:function(){this.context.drawImage(this.spriteSheet,r,8,j,j,0,0,j*B,j*B)}})};var Kb=function(l,e){return L({type:"hyperEngine",x:l*B,y:e*B,width:j*B,height:j*B,radius:j*B/2,spriteSheet:F.getInstance().spriteSheet,render:function(){this.context.drawImage(this.spriteSheet,0,16,j,j,0,0,j*B,j*B)}})};var Lb=Da&&Da.__spreadArrays||function(){for(var r=0,e=0,$=arguments.length;e<$;e++)r+=arguments[e].length;var i=Array(r),a=0;for(e=0;e<$;e++)for(var t=arguments[e],o=0,p=t.length;o<p;o++,a++)i[a]=t[o];return i},Mb=function(r,e){for(var $,i=[],a=[],t=[],o=[],p=[],l=[],m=Array(U.height*ma).fill(0).map(function(){return Array(U.width*la).fill(0)}),n=0,w=0,I=0;I<ma;I+=1)for(var s=0;s<la;s+=1)if(0!==r[I][s]){for(var Q=qb.get(r[I][s]),f=I*Q.height,c=f+Q.height,h=s*Q.width,d=h+Q.width,u=0;u<Q.height;u+=1)($=m[f+u]).splice.apply($,Lb([h,Q.map[u].length],Q.map[u]));for(var g=0,b=0,v=f;v<c;v+=1)for(var y=h;y<d;y+=1){var P=y*j,q=v*j;if(1===m[v][y]){var x=Bb(P,q);i.push(x)}else if(10!==Q.roomTileNumber&&0===m[v][y]){var R,E=!1;if(g<e.maxTimersPerRoom&&!E)if((R=M(0,e.timerProbability))>=5&&R<=6){var S=Gb(P,q);g+=1,E=!0,a.push(S)}if(n<e.maxCardsPerLevel&&!E)if(10===(R=M(0,e.cardProbability))||0===n){var z=Hb(P,q);n+=1,E=!0,t.push(z)}if(w<e.hyperEnginePerLevel&&!E)if(10===M(0,e.hyperEngineProbability)){var A=Kb(P,q);w+=1,E=!0,l.push(A)}if(b<e.maxMinesPerRoom&&!E)if((R=M(0,e.mineProbability))>=5&&R<=6){var C=Ib(P,q);b+=1,E=!0,o.push(C)}if(!E)5===M(0,7)&&p.push(Jb(P,q,8*Math.floor(2*Math.random())))}}}return{levelMapSprites:i,worldFullMap:m,timerCollectibles:a,cardsCollectibles:t,minesEnemies:o,backgroundProps:p,hyperEngineCollectibles:l}},Pa={create:Mb};Da.default=Pa;var Nb=function($){return{x:Math.round($.x/B/j),y:Math.round($.y/B/j)}};var Qa=function($,o){return $*o*j*B+Math.ceil(o/2)*j*B};var na=function($,o){return 0===o[$.y][$.x]||2===o[$.y][$.x]};var Ob=function(){return L({x:Qa(K.x,U.width),y:Qa(K.y,U.height),width:j*B,height:j*B,radius:j*B/2,spriteSheet:F.getInstance().spriteSheet,render:function(){this.context.drawImage(this.spriteSheet,8,0,j,j,0,0,j*B,j*B)}})};var W={pickup:[,,775,,.04,.22,1,1.75,,,741,.05,,,,,,.84],intro:[,,8,.18,.08,.59,,1.16,,,-176,.02,.14,,,.1,.2,.54,.08],card:[,,152,.04,,.09,1,1.6,74,14,623,.13,,,,,,,.02],explosion:[,,684,,.22,.95,1,1.85,.7,,,,,.6,-.4,.5,.36,.66,.05,.04],submarineSonar:[,,124,.03,,.08,,.01,,,320,.04,.28,,,,.26,.99,.02],activateHyperEngine:[,,124,.24,.32,.61,1,1.35,4,,,.03,.19,,,.1,.14,.67,.04]};var Pb=xa&&xa.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],$=0,m=a.length;$<m;$++,i++)n[i]=a[$];return n},Ra=function(){var e=Ob(),t=Cb(),r=Db(),n=Ab.create(),i=Eb(),a=Pa.create(n,i),$=a.levelMapSprites,m=a.worldFullMap,o=a.timerCollectibles,p=a.cardsCollectibles,s=a.minesEnemies,f=a.backgroundProps,l=a.hyperEngineCollectibles,y=function(){return r.hyperEngineEnabled?"IN USE":r.isHyperEngineReady?"READY":"NOT READY"},g=0,d=0,H=0,c=0,u=!1,E=O("MISSION "+F.getInstance().missionCount,{x:700,y:50},24,"right"),x=O(t.playerTime.toString(),{x:400,y:50},64),h=O("404 Cards: "+c+" / "+p.length,{x:650,y:570},24,"right"),w=O("HyperEngine("+r.hyperEngineCharges+") "+y(),{x:200,y:570},24,"left"),b=function(t,r){for(var n=0;n<t.length;n+=1){var i=t[n];if(i.ttl>0){var a=i.x-e.x,$=i.y-e.y;if(Math.hypot(a,$)<i.radius+e.radius){i.ttl=0,r(i);break}}}return t.filter(function(e){return e.isAlive()})},k=function(){u=!0},v=function(){k(),F.getInstance().gameOver()},T=function(e){(d+=e)>=t.sonarTimeRate&&(d=0,window.zzfx.apply(window,W.submarineSonar))},C=function(e){r.isHyperEngineReady&&!r.hyperEngineEnabled||(H+=e),H>=r.hyperEngineRechargeTime&&!r.isHyperEngineReady?(H=0,r.isHyperEngineReady=!0):H>=r.hyperEngineDurationTime&&r.hyperEngineEnabled&&(H=0,r.hyperEngineEnabled=!1,r.isHyperEngineReady=!1),G("space")&&r.isHyperEngineReady&&!r.hyperEngineEnabled&&r.hyperEngineCharges>0&&(r.hyperEngineCharges-=1,r.hyperEngineEnabled=!0,window.zzfx.apply(window,W.activateHyperEngine)),w.text="HyperEngine("+r.hyperEngineCharges+") "+y()},P=function(){var n=Nb(e),i=n.x,a=n.y,$=r.hyperEngineEnabled?r.hyperEngineVelocity:t.playerMovementSpeed;(G("up")||G("w"))&&na({x:i,y:a-1},m)&&(e.y-=$),(G("down")||G("s"))&&na({x:i,y:a+1},m)&&(e.y+=$),(G("right")||G("d"))&&na({x:i+1,y:a},m)&&(e.x+=$),(G("left")||G("a"))&&na({x:i-1,y:a},m)&&(e.x-=$)},I=function(e){xb&&(g+=e)>=t.playerTimeRateConsumption&&(g=0,t.playerTime>=1?(t.playerTime-=1,x.text=t.playerTime.toString()):v())};return Na({cameraLookTarget:e,sceneProps:Pb(f,$,s,o,p,l,[e]),messages:[x,E,h,w],update:function(e){!function(e){u||(T(e),C(e),P(),G("esc")&&(k(),F.getInstance().gameMenu()),b(o,function(e){window.zzfx.apply(window,W.pickup),t.playerTime+=e.rechargeValue,x.text=t.playerTime.toString()}),b(l,function(){window.zzfx.apply(window,W.card),r.hyperEngineCharges+=1,w.text="HyperEngine("+r.hyperEngineCharges+") "+y()}),b(p,function(){window.zzfx.apply(window,W.card),c+=1,h.text="404 Cards: "+c+" / "+p.length}),b(s,function(){window.zzfx.apply(window,W.explosion),v()}),c>=p.length&&(k(),yb!==F.getInstance().missionCount?(F.getInstance().missionCount+=1,F.getInstance().missionCompleted()):F.getInstance().gameEnding()),I(e))}(e)}})};xa.default=Ra;var Qb=function(){var e="Your adventure ends here\n after "+F.getInstance().missionCount+" mission(s).";return ga("GAME OVER",e,"Press [x] to continue","Try again...",function(){G("x")&&F.getInstance().gameMenu()})};var Rb=function(){var e=F.getInstance().missionCount-1+" mission(s) completed";return ga("MISSION COMPLETED","Transmitting to central\n the 404 Cards found data.","Press [x] to start the next mission.",e,function(){G("x")&&F.getInstance().playGame()})};var Sb={};Sb="/spritesheet.2ac72c66.png";var Tb=function(){return ga("DECIPHERING CARDS","\u23C1\u2291\u27D2 \u2307\u27D2\u23C3\u2307 \u23C3\u2340\u27D2 \u27DF\u22CF\u238E\u27DF\u22CF\u27DF\u23C1\u27D2 \u2330\u27DF\u260D\u27D2 \u23C1\u2291\u27D2\n \u23C1\u2291\u27D2 \u2307\u23C1\u23C3\u2340\u2307. \u2359\u27D2 \u23C3\u2340\u27D2 \u2291\u27D2\u2340\u27D2 \u22CF\u235C\u2359,\n \u2359\u27D2 \u2359\u27D2\u2340\u27D2 \u2291\u27D2\u2340\u27D2 \u22AC\u27D2\u2307\u23C1\u27D2\u2340\u2385\u23C3\u22AC.","Press [x] to end the mission.","The oceans are infinite like the stars.\n Civilization NOT FOUND yet.",function(){G("x")&&F.getInstance().gameMenu()})};var F=function(){function e(){this.stateMachine=new ob,this.missionCount=1,this.currentGameScene=null,this.loadAssets()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.start=function(){this.loadGameScene(),this.currentGameScene.start()},e.prototype.playGame=function(){this.stopCurrentScene(),this.stateMachine.transitionToPlayGame(),this.start()},e.prototype.gameMenu=function(){this.missionCount=1,window.zzfx.apply(window,W.intro),this.stopCurrentScene(),this.stateMachine.transitionToGameMenu(),this.start()},e.prototype.gameOver=function(){this.stopCurrentScene(),this.stateMachine.transitionToGameOver(),this.start()},e.prototype.missionCompleted=function(){this.stopCurrentScene(),this.stateMachine.transitionToMissionCompleted(),this.start()},e.prototype.gameEnding=function(){this.stopCurrentScene(),this.stateMachine.transitionToGameEnding(),this.start()},e.prototype.stopCurrentScene=function(){this.currentGameScene.hide(),this.currentGameScene.stop(),this.currentGameScene.destroy()},e.prototype.loadGameScene=function(){switch(this.stateMachine.getCurrentState()){case D.GameMenu:this.currentGameScene=Oa();break;case D.PlayingGame:this.currentGameScene=Ra();break;case D.GameOver:this.currentGameScene=Qb();break;case D.MissionCompleted:this.currentGameScene=Rb();break;case D.GameEnding:this.currentGameScene=Tb();break;default:this.currentGameScene=Oa(),this.stateMachine.resetFSM();}},e.prototype.loadAssets=function(){var e=this,t=new Image;var $XBA6$$interop$default=Sa(Sb);t.src=$XBA6$$interop$default.d,t.onload=function(){e.spriteSheet=t}},e}();document.addEventListener("DOMContentLoaded",function(){window.zzfx.apply(window,W.intro),F.getInstance().start()});return{"RGUf":{}};});